# 冲刺13：对比体验手工验收清单

更新时间：2025-10-13

## 环境准备
- 浏览器：Chrome 128+、Edge 128+；验证一次 Safari Technology Preview 以覆盖 WebKit 行为。
- 数据源：`SimulationCompareDrawer` 使用现有 Mock 数据，根据需要补充 PNG/PDF/STEP/FEM 组合。
- 功能开关：默认开启“同步视角”，保留手动关闭入口。

## 验收用例
1. **混合类型逐卡渲染**
   - 加入 STEP + PNG + PDF 混合文件；验证卡片间 `gap-4`、徽章与标题对齐。
   - `Tab` 键应依次聚焦卡片容器、卡片内控件；`Enter` 激活“更多”按钮无实际动作但不报错。

2. **3D 视角同步**
   - 在比较栏开启“同步视角”，旋转任意 STEP 模型，确认其它 3D 卡联动。
   - 关闭同步后，单卡操作不影响其它卡；`performance.mark('compare:maximized')`、`'compare:items-update:*'` 可在 Performance 面板查看。

3. **图片最大化模式**
   - 打开单卡图片预览，切换“单图 / 滑块 / 并排 / 差异”模式，检查按钮 `aria-pressed` 和标题徽章。
   - 滑块模式拖动到 0%、50%、100%，确认覆盖提示与数值同步；最大化后按钮切换为“退出”。

4. **PDF 预览浮层控件**
   - 正常加载 PDF，右上角浮层显示页码与倍率；点击 `90% / 100% / 125%`、`适应宽`、`复位`，验证渲染刷新。
   - 在弹窗最大化中重复操作，检查滚动与按钮可用状态。

5. **清空与导出状态**
   - 当比较项 <2 时，“导出对比”按钮禁用；≥2 时启用并展示 tooltip。
   - 点击“清空”后比较栏折叠 Pill 出现，按钮可用。

6. **辅助功能检查**
   - 使用 VoiceOver/NVDA 告诉按钮名称，例如“同步视角已开启”。
   - 检查色彩对比：卡片边框与文本符合 WCAG AA（>4.5:1）。

## 记录方式
- 复制上述场景结果至 QA 表格（状态、浏览器、备注）。
- 针对异常附截图或录像，并记录 `performance.mark` 时间戳辅助分析。
